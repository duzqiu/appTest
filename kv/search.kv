<DataCard>:
    orientation: 'horizontal'
    padding: [10, 10]
    spacing: "10dp"
    md_bg_color: [0.95, 0.95, 0.95, 1]  # æµ…ç°è‰²èƒŒæ™¯
    size_hint_y: None
    height: "50dp"  # å›ºå®šé«˜åº¦ä»¥ç¡®ä¿ä¸€è‡´çš„å¤–è§‚
    radius: [16, ]

    FitImage:
        source: root.icon_source if root.icon_source else 'image/icon.png'  # è®¾ç½®é»˜è®¤å›¾æ ‡
        size_hint: None, None
        size: "32dp", "32dp"
        pos_hint: {"center_y": 0.5, "center_x":0.2}

    MDBoxLayout:
        orientation: 'vertical'   
        padding: [10]

        MDLabel:
            text: root.item_name
            font_name: "fonts/pingfang-hei.ttf"
            halign: 'center'

        MDLabel:
            text: f"{root.rating}/5.0"
            theme_text_color: 'Secondary'
            halign: 'center'
# ğŸ‘‡ è‡ªå®šä¹‰ç»„ä»¶ï¼šå›¾æ ‡ + æ–‡å­—ç»„åˆ
<GridItem@MDBoxLayout>:
    icon: ""
    text: ""
    orientation: "horizontal"
    spacing: "12dp"
    padding: "12dp"
    size_hint_x: None
    width: "75dp"
    md_bg_color: [0.9, 0.9, 0.9, 0.3]  # ç°è‰²èƒŒæ™¯ï¼Œä¸é€æ˜
    radius: [12, ]

    MDIcon:
        icon: root.icon
        halign: "right"
        size_hint: None, None
        font_size: "14dp"
        pos_hint: {"center_y": 0.5}

    MDLabel:
        text: root.text
        font_name: "fonts/pingfang-hei.ttf"
        halign: "center"
        theme_text_color: "Secondary"
        pos_hint: {"center_y": 0.5}

# ç¬¬äºŒä¸ªæ ‡ç­¾é¡µ
<SearchPage@MDBottomNavigationItem>:
    name: 'screen2'
    text: 'Search'
    icon: 'magnify' 
    # æœç´¢æ¡†+æœç´¢æŒ‰é’® 
    MDBoxLayout:
        id: top_bar
        size_hint: (0.95, None)
        height: "40dp"
        pos_hint: {"top": 1, "center_x": 0.5}
        y: root.height - self.height - dp(20)  # è·ç¦»é¡¶éƒ¨ 20dp
        md_bg_color: [0.95, 0.95, 0.95, 1]
        radius: [12, ]
        TextInput:
            id: search_input
            hint_text: "è¯·è¾“å…¥æœç´¢å†…å®¹..."
            font_name: "fonts/pingfang-hei.ttf"
            multiline: False
            size_hint_x: 0.8
            background_color: [0, 0, 0, 0]
            foreground_color: [0, 0, 0, 1]
            font_size: "16sp"
            padding: [10, (self.height - self.line_height) / 2, 10, 0] 
        MDIconButton:
            icon: "magnify"
            on_press: app.on_search()
            theme_text_color: "Custom"
            text_color: [0, 0, 0, 0.6]
            ripple_scale: 0
            size_hint_y: 1

    # é¡µé¢ä¸»ä½“å†…å®¹ï¼ˆå¯ä»¥æ»šåŠ¨ï¼‰
    ScrollView:
        pos_hint: {"top": 0.9}  # ç•™å‡ºé¡¶éƒ¨ç©ºé—´
        size_hint: 1, 0.9
        GridLayout:
            cols: 1
            spacing: "6dp"
            size_hint_y: None
            height: self.minimum_height
            # ç¤ºä¾‹å†…å®¹æ¨¡å—1
            MDBoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: "260dp"
                md_bg_color: [1, 1, 1, 1]
                radius: [16, ]
                padding: [16, 12]
                MDLabel:
                    text: "çƒ­é—¨æ¨è"
                    font_name: "fonts/pingfang-hei.ttf"
                    halign: "left"
                    theme_text_color: "Primary"
                    size_hint_y: None
                    height: "24dp"
                    valign: "middle"
                    padding_x: "24dp"

                MDGridLayout:
                    cols: 2  # åŒåˆ—
                    rows: 4  # å››è¡Œ
                    padding: [10, 10]
                    spacing: [10, 10]

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "XM"
                        rating: 1.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "TMCM"
                        rating: 4.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "å˜‰ç››"
                        rating: 3.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "å¯Œæ‹“"
                        rating: 2.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "Exness"
                        rating: 1.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "çˆ±å"
                        rating: 3.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "æ˜“æ±‡"
                        rating: 2.0

                    DataCard:
                        icon_source: 'image/icon.png'
                        item_name: "HTFX"
                        rating: 5.0
            # ç¤ºä¾‹å†…å®¹æ¨¡å—2
            MDBoxLayout:
                orientation: 'vertical'  
                size_hint_y: None
                height: "60dp"
                md_bg_color: [1, 1, 1, 1]
                radius: [16, ]

                MDLabel:
                    text: "æœç´¢å‘ç°"
                    font_name: "fonts/pingfang-hei.ttf"
                    halign: "left"
                    theme_text_color: "Primary"
                    size_hint_y: None
                    height: "24dp"
                    valign: "center"
                    padding_x: "24dp"
                MDGridLayout:
                    cols: 4
                    spacing: "10dp"
                    padding: ["16dp", "8dp", "16dp", "10dp"]
                    size_hint_y: None
                    height: "20dp"  # å¯æ ¹æ®å†…å®¹è°ƒæ•´é«˜åº¦
                    row_default_height: "20dp"
                    row_force_default: True

                    # ğŸ‘‡ å››ä¸ªç½‘æ ¼é¡¹
                    GridItem:
                        icon: "image/icon.png"
                        text: "é¦–é¡µ"
                    GridItem:
                        icon: "image/icon.png"
                        text: "æˆ‘çš„"
                    GridItem:
                        icon: "image/icon.png"
                        text: "è®¾ç½®"
                    GridItem:
                        icon: "image/icon.png"
                        text: "å¸®åŠ©"
            # ç¤ºä¾‹å†…å®¹æ¨¡å—3
            MDBoxLayout:
                size_hint_y: None
                height: "120dp"
                md_bg_color: [1, 1, 1, 1]
                radius: [16, ]
                padding: [16, 12]

                Label:
                    text: "è¿™æ˜¯ä¸€ä¸ªæ»šåŠ¨åŒºåŸŸçš„å†…å®¹3"
                    font_name: "fonts/pingfang-hei.ttf"
                    color: [0, 0, 0, 1]
            # ç¤ºä¾‹å†…å®¹æ¨¡å—4
            MDBoxLayout:
                size_hint_y: None
                height: "120dp"
                md_bg_color: [1, 1, 1, 1]
                radius: [16, ]
                padding: [16, 12]

                Label:
                    text: "è¿™æ˜¯ä¸€ä¸ªæ»šåŠ¨åŒºåŸŸçš„å†…å®¹4"
                    font_name: "fonts/pingfang-hei.ttf"
                    color: [0, 0, 0, 1]